<!DOCTYPE html>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <script type="text/javascript" src="../aandd.js"></script>
    <script type="text/javascript" src="../jquery.min.js"></script>

    <script>
        var numbers;
        var lower = 0; //選択範囲の一番左側の数のインデックス
        var higher;
        var middle; //中央の数
        var status;
        var count = 0;

        function Create() {
            numbers = [];
            createOrderedRandomNumbers(numbers, 20);
            show(numbers);
            higher = numbers.length - 1;
            document.getElementById('status').innerHTML = "テーブルを作成しました！";
        }


        function binary() {
            count += 1;
            document.getElementById('count').innerHTML = count;
            var searchNum = document.getElementById('inputNumber').value;
            if (!searchNum) {
                document.getElementById('status').innerHTML = "探したい数を入力してください！";
            }

            middle = Math.ceil((lower + higher) / 2);
            console.log(middle);
            document.getElementById('Index').innerHTML = middle;


            if (searchNum == numbers[middle]) {
                document.getElementById('status').innerHTML = "探している数" + searchNum + "が見つかりました！" + Number(middle) + "番地にあります！" + "検索作業を終了します。";
                status = true;
            } else if (searchNum < numbers[middle]) {
                higher = middle;
            } else if (searchNum > numbers[middle]) {
                lower = middle;
            }

            if (count == numbers.length) {
                document.getElementById('status').innerHTML = "探している数" + searchNum + "は見つかりませんでした。";
            }
        }


    </script>

</head>

<body>
    <h1>ex0-5</h1>
    <button onclick="Create()">テーブルを作る</button>
    <p id="res"></p>
    <button onclick="binary()" id="searchButton">バイナリーサーチ</button>
    <hr>
    探している数：<input id="inputNumber" type="text">
    <hr>
    <p>現状：<span id="status"></span></p>
    <p><span id="count"></span>回目</p>
    <p><span id="Index"></span>番地</p>
</body>

</html>